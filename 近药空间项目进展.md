# 近药空间项目进展

## 项目概述
- **项目名称**: 近药空间
- **项目对接**: 药学院

---

## 项目进展

### 10.11
- **前端**: 完成welcome页面设计。
- **后端**: 
  - 登录、注册、重置密码接口已完成。
  - 药学院提供的 `pdf2markdown` 接口有误，已协调并进行对接。

### 10.13
- **前端**: 完成登录、注册、重置密码页面设计与接口对接。
- **后端**: 成功部署后端至 [http://172.20.137.175:49222](http://172.20.137.175:49222)。

### 10.15
- **前端**: 完成 `pdf2markdown` 页面设计与接口对接。
- **后端**: 
  - 上传文件后调用 API 并返回 Markdown 数据已完成并部署。

### 10.15 - 10.26
- 药学院 API 更新，功能同步更新。

### 10.28
- **前端**: 修改键值，更新 Markdown 页面。
- **后端**: 查询 Markdown 接口修改完成，键值更新为：`fileURL/taskid/markdownresult`。

### 10.31
- **前端**: 完成主页面设计，实现收藏列表、结果列表展示，上传文件后跳转至结果列表页面。
- **后端**: 完成收藏列表、结果列表功能。

### 11.03
- **前端**: 修复 `pdfpreview` 问题，前端已部署至 [http://172.20.137.175:90](http://172.20.137.175:90)，相关文件存放至 `/NearDrug/houduan/files`，并完成 Nginx 配置。
- **后端**: 更新 Markdown 接口及下载功能，修复部分 bug。

### 11.07
- **前端**: 完成结果页面，实现查看著录结果。
- **后端**: 完成查询、下载著录结果功能。

### 11.07 - 11.11
- 药学院 API 更新，功能同步更新。

### 11.15
- **前端**: 完善美化著录查询，进行格式化统一。
- **后端**: 查询合成反应已完成✅。


### 11.16
- **前端**: json解析中，目前已初步完成结构解析，具体内容还未填充一。
- **后端**: 下载合成反应已完成✅。

### 11.18
- **前端**: 基本完成解析，合成反应页面已完成。
- **后端**: 下载合成反应已完成✅。

### 11.21
- **前端**: 图片提取、下载接口已完成✅。
- **后端**: 图片提取页面已完成✅。

### 2.11-2.24
- **前端**: 界面部分功能及布局发生变化，重新修改渲染。

### 2.24-3.3
- **前端**: 表格提取，更新，下载页面基本已完成，目前表格提出的html格式不规范，渲染有一定误差，smiles转分子图实现。
- **后端**：表格提取，更新，下载接口基本已完成✅。

---

## 会议沟通

- **10.29** 腾讯会议：沟通 API 字段情况。
- **11.01** 腾讯会议：沟通近药检索页面关联情况及部分页面设计。
- **11.05** 腾讯会议：沟通页面逻辑。
- **11.14** 腾讯会议：沟通json数据对应情况。
- **2.24** 腾讯会议：沟通json数据对应情况。

---

## 已解决问题

- [x] **依据 `fileURL` 无法访问文件实现预览**: 配置 Nginx，解决跨域问题。
- [x]  **测试著录数据时用原测试 PDF 结果为空列表，前端报错**: 添加空值处理逻辑。
- [x]  **API 返回的 `record` 数据格式不规范**: 前端需进行格式化处理。学姐已提供 `record` 格式对照。
 - 日期已完成（11.12）
 -   Name address已完成（11.13）
 -  Disease Genes Mutations已完成（11.13）
- [x] **收藏后收藏列表需手动刷新才能展示最新结果**。(11.14)
- [x] **合成反应页面&著录页面**全为null时置为无数据情况，且将下载置为null(11.18)
- [x] **图片提取页面**全为null，或者[]时置为无数据情况，且将下载置为null(11.21)
- [x] **表格提取页面**全为null，或者[]时置为无数据情况，且将下载置为null(11.21)
- [x] **页面修改与更新**（2.11-2.24）
 -  **任务介绍页面** : 新添加设计了任务介绍页面（文字目前不准确）
 -  **结果列表**: 新添加搜索功能
 -  **提取结果-图片** : 修改为依据类别分别显示图片
- [x] **表格提取功能**（2.24-3.3）
 -  **页面设计** :（母核结构相关功能目前待定）
 -  **分子结构编辑** : 调用ketcher实现
 -  分子smiles转分子图实现
 -  表格编辑、保存功能实现
- [x] 收藏列表更新为展示缩略图，重新设计页面跳转（3.5）

--- 
## 未解决问题

- [ ]  **PDF2Markdown 接口处理速度较慢**: 药学院已表示会进行后续优化，但效果未确定。

- [ ] **Markdown 在前端预览渲染不到位**: 部分特殊格式没有正确渲染。

- [ ] 在还没有上传文件时会从localstorge读取之前上传提取的结果。（由于api处理时间过长，方便测试暂不修改）
- [ ] **api处理结果不统一**:经测试，药学院提供的API针对同一个文件多次得到的处理结果不一致，并且很大概率得到全是null的情况。
- [ ] **表格提取的html不准确**：导致渲染出现错误偏差等问题，且对于smiles的定位表示不准确，归一化难以完成 

---

## 下一步工作

- 合成反应页面更新
- 分子提取页面实现
- 表格提取页面图片更新，表格定位，表格合并

---

